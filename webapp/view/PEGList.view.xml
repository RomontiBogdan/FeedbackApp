<mvc:View
	controllerName="sap.ui.demo.walkthrough.controller.PEGList"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
>
	<Page
		title="{i18n>PEGPageTitle}"
		showNavButton="true"
		navButtonPress=".onNavBack"
	>
	<headerContent>
		<Button 
		icon="https://image.flaticon.com/icons/png/512/197/197374.png"
		press=".setGermani18n"
		class="sapUiSmallMarginBeginEnd"/>
		<Button
		icon="https://image.flaticon.com/icons/png/512/197/197571.png"
		press=".setEnglishi18n"
		class="sapUiTinyMarginEnd"/>
	</headerContent>	
		<IconTabBar
			id="PegTabBarManager"
			select=".onFilterSelect"
			class="sapUiResponsiveContentPadding"
			expandable="false"
		>
			<items>
				<IconTabFilter
					icon="sap-icon://multiselect-all"
					iconColor="Neutral"
					text="{i18n>iconTabFilterAllPEGs}"
					key="allpegs"
				/>
				<IconTabFilter
					icon="sap-icon://add-document"
					iconColor="Negative"
					text="{i18n>iconTabFilterNewPEGs}"
					key="New"
				/>
				<IconTabFilter
					icon="sap-icon://pending"
					iconColor="Critical"
					text="{i18n>iconTabFilterPendingPEGs}"
					key="Pending"
				/>
				<IconTabFilter
					icon="sap-icon://accept"
					iconColor="Positive"
					text="{i18n>iconTabFilterCompletedPEGs}"
					key="Completed"
				/>
			</items>
			<content>
				<Table
					id="PegTableManager"
					items="{
						path: '/PegReqSet'
					}"
				>
				<headerToolbar>
						<Toolbar>
							<ToolbarSpacer/>
							<Title text="{i18n>searchEvaluatorEmployee}:"/>
							<SearchField
								id="searchField"
								width="30%"
								liveChange=".onPEGFilter"
								placeholder="{i18n>filterEvaluatorEmployee}"
							/>
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column width="12em">
							<Text text="{i18n>columnEvaluator}"/>
						</Column>
						<Column width="12em">
							<Text text="{i18n>columnEmployee}"/>
						</Column>
						<Column width="12em">
							<Text text="{i18n>columnProject}"/>
						</Column>
						<Column width="12em">
							<Text text="{i18n>columnStatus}"/>
						</Column>
						<Column width="12em">
							<Text text="{i18n>columnRequestDate}"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem
							type="Navigation"
							press=".onPegPress"
							highlight="{
								path: 'Status',
								formatter: '.formatter.highlightStatus'
							}"
						>
							<cells>
								<ObjectIdentifier text="{FromUser}"/>
								<ObjectIdentifier text="{ToUser}"/>
								<Text text="{ProjectId}"/>
								<Text text="{
									path: 'Status',
									formatter: '.formatter.pegStatus'
								}"/>
								<Text text="{= ${SentAt} !== null ? ${SentAt}.toLocaleString() : ''}"/>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</content>
		</IconTabBar>
		<footer>
			<Bar id="newrequestbar">
				<contentRight>
					<Button
						text="{i18n>PEGRequestBtn}"
						press=".onNewRequest"
						class="myCustomButton"
						icon="sap-icon://add"
					/>
				</contentRight>
			</Bar>
		</footer>
	</Page>
</mvc:View>