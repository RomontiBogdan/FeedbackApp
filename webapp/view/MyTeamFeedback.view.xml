<mvc:View
	controllerName="sap.ui.demo.walkthrough.controller.MyTeamFeedback"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
>
	<Page
		title="{i18n>MyTeamFeedbackPageTitle}"
		showNavButton="true"
		navButtonPress=".onNavBack"
	>

		<IconTabBar
			id="PegTabBarManager"
			select=".onFilterSelect"
			class="sapUiResponsiveContentPadding"
			expandable="false"
		>
			<items>
				<IconTabFilter
					icon="sap-icon://multiselect-all"
					iconColor="Neutral"
					text="All Feedbacks"
					key="allpegs"
				/>
				<IconTabFilter
					icon="sap-icon://add-document"
					iconColor="Negative"
					text="New"
					key="New"
				/>
				<IconTabFilter
					icon="sap-icon://pending"
					iconColor="Critical"
					text="Pending"
					key="Pending"
				/>
				<IconTabFilter
					icon="sap-icon://accept"
					iconColor="Positive"
					text="Completed"
					key="Completed"
				/>
			</items>
			<content>
				<Table
					id="MyTeamTable"
					items="{
						path: '/FeedbackTeamSet'
					}"
				>
				<headerToolbar>
				<Toolbar>
					<ToolbarSpacer/>
					<Title text = "Search by user:"/>
					<SearchField id = "searchInput" width  = "30%" search = ".onUserFilter" placeholder = "Filter by User"/>
				</Toolbar>
				</headerToolbar>

					<columns>
						
						<Column width="12em">
							<Text text="From Manager"/>
						</Column>
						<Column width="12em">
							<Text text="To Employee"/>
						</Column>
						<Column width="12em">
							<Text text="Project"/>
						</Column>
						<Column width="12em">
							<Text text="Status"/>
						</Column>
						<Column width="12em">
							<Text text="Rating"/>
						</Column>
						<Column width="12em">
							<Text text="Sent Date"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem
							type="Navigation"
							press = "onPressTeamFeedback"
							highlight="{
								path: 'Status',
								formatter: '.formatter.highlightStatus'
							}">
						

							<cells>
								<Text text="{FromUser}"/>
								<Text text="{ToUser}"/>
								<Text text="{ProjectId}"/>
								<Text text="{
									path: 'Status',
									formatter: '.formatter.pegStatus'
								}"/>

								<Text text="{
									path: 'Rating',
									formatter: '.formatter.feedbackRating'
								}"/>

								<Text text="{
									path: 'SentAt',
									formatter: '.formatter.timestamp'
								}"/>

							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</content>
		</IconTabBar>
		<footer>
			<Bar id="buttonbar">
				<contentLeft>
					<Button
						id="myteambutton"
						text="My team"
						press=".onMyTeam"
						type="Emphasized"
						icon="sap-icon://group"
					/>
                    <Button
						id="otherteamsbutton"
						text="Other teams"
						press=".onOtherTeams"
						icon="sap-icon://group"
					/>
				</contentLeft>
				<contentRight>
					<Button
						text="New Feedback"
						press=".onNewFeedback"
						class="myCustomButton"
						icon="sap-icon://add"
					/>			
				</contentRight>
			</Bar>
		</footer>
	</Page>
</mvc:View>