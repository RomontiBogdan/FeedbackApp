<mvc:View
	controllerName="sap.ui.demo.walkthrough.controller.ManagerFeedback"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
>
	<Page
		title="{i18n>PEGDetailsPageTitle}"
		showNavButton="true"
		navButtonPress="onNavBack"
	>
		<Panel>
			<content>
				<VBox
					alignItems="Center"
					width="100%"
				>
					<Label
						text="{i18n>employeeDetails}"
						labelFor="userContainer"
					/>
					<HBox id="userContainer">
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>employeeNameTileTitle}"
							subheader="{FullName}"
							frameType="TwoByOne"
						>
							<TileContent>
								<ImageContent src="sap-icon://employee"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>personnelNumberTileTitle}"
							subheader="{PersonalNo}"
							frameType="Auto"
						>
							<TileContent>
								<ImageContent src="sap-icon://call"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>fiscalYearTileTitle}"
							subheader="{FiscalYear}"
							frameType="Auto"
						>
							<TileContent>
								<ImageContent src="sap-icon://calendar"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>currentCarrerLevelTileTitle}"
							subheader="{
								path: 'CareerLevel',
								formatter: '.formatter.careerLevel'
							}"
							frameType="Auto"
						>
							<TileContent>
								<ImageContent src="sap-icon://leads"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>organizationalAssignmentTileTitle}"
							subheader="{Su}"
							frameType="Auto"
						>
							<TileContent>
								<ImageContent src="sap-icon://crm-service-manager"/>
							</TileContent>
						</GenericTile>
					</HBox>
					<Label
						class="sapUiTinyMarginTop"
						text="{i18n>feedbackDetails}"
						labelFor="pegContainer"
					/>
					<HBox id="pegContainer">
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>projectIDTileTitle}"
							subheader="{ProjectId}"
							frameType="Auto"
							id="GenericTileProjectId"
						>
							<TileContent>
								<ImageContent src="sap-icon://group"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>dateOfPEGTileTitle}"
							subheader="{= ${SentAt} !== null ? ${SentAt}.toLocaleString() : ''}"
							frameType="TwoByOne"
						>
							<TileContent>
								<ImageContent src="sap-icon://date-time"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>evaluatorTileTitle}"
							subheader="{FromUser}"
							frameType="Auto"
						>
							<TileContent>
								<ImageContent src="sap-icon://activity-individual"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>noOfProjectDaysEvaluatedTileTitle}"
							subheader="{
								path: 'DaysEvaluated',
								formatter: '.formatter.daysEvaluated'
							}"
							frameType="TwoByOne"
						>
							<TileContent>
								<ImageContent src="sap-icon://timesheet"/>
							</TileContent>
						</GenericTile>
					</HBox>
					<Label
						class="sapUiTinyMarginTop"
						text="{i18n>projectDetails}"
						labelFor="projectContainer"
					/>
					<HBox id="projectContainer">
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>projectTileTitle}"
							subheader="{ProjectName}"
							frameType="TwoByOne"
						>
							<TileContent>
								<ImageContent src="sap-icon://idea-wall"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>projectManagerTileTitle}"
							subheader="{ProjectManager}"
							frameType="Auto"
						>
							<TileContent>
								<ImageContent src="sap-icon://manager"/>
							</TileContent>
						</GenericTile>
						<GenericTile
							class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
							header="{i18n>customerTileTitle}"
							subheader="{Customer}"
							frameType="TwoByOne"
						>
							<TileContent>
								<ImageContent src="sap-icon://customer"/>
							</TileContent>
						</GenericTile>
					</HBox>
				</VBox>
			</content>
		</Panel>
		<Panel>
			<content>
				<Table
					id="pegTable"
					items="{toCriterias}"
				>
					<columns>
						<Column width="12em">
							<Text text="{i18n>criteriaColumn}"/>
						</Column>
						<Column width="12em">
							<Text text="{i18n>ratingColumn}"/>
						</Column>
						<Column width="12em">
							<Text text="{i18n>ratingDescriptionColumn}"/>
						</Column>
						<Column width="12em">
							<Text text="{i18n>recommendationsColumn}"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem
							type="Active"
							vAlign="Middle"
						>
							<cells>
								<ObjectIdentifier text="{
									path: 'Criteria',
									formatter: '.formatter.criteriaDescription'
								}"/>
								<RatingIndicator
									id="gradeIndicator"
									value="{Grade}"
									maxValue="4"
								/>
								<Text text="{
									path: 'Grade',
									formatter: '.formatter.gradeDescription'
								}"/>
								<Input
									id="recommendationInput"
									value="{Recommendation}"
								/>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</content>
		</Panel>
		<footer>
			<Bar>
				<contentLeft>
					<Button
						id="submitChangesButton"
						text="Submit"
						press="onSubmitChanges"
						class="myCustomButton"
						icon="sap-icon://accept"
					/>
					<HBox id="toUpdateFields">
						<CheckBox
                     class="sapUiMediumMarginEnd"
							id="completedCheckBox"
							text="is Completed?"
							selected="{= ${Status} === '2' ? true : false}"
                     select="onToggleStatus"
						/>
						<Select
							forceSelection="false"
							id="daysEvaluatedSelect"
                     tooltip="Select the number of project days evaluated"
							selectedKey="{DaysEvaluated}"
							items="{
                        path: 'DaysEvaluatedModel>/EvaluatedDays'
                     }"
						>
							<core:ListItem
								key="{DaysEvaluatedModel>Id}"
								text="{DaysEvaluatedModel>Name}"
							/>
						</Select>
					</HBox>
				</contentLeft>
				<contentRight>
					<Button
						id="exportButton"
						text="Export to excel"
						class="myCustomButton"
						press="onExport"
						icon="sap-icon://download"
					/>
				</contentRight>
			</Bar>
		</footer>
	</Page>
</mvc:View>